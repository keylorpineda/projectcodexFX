<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>
<?import javafx.scene.shape.Circle?>

<VBox xmlns="http://javafx.com/javafx"
      xmlns:fx="http://javafx.com/fxml"
      fx:controller="com.municipal.reservationsfx.ui.controllers.AdminDashboardController"
      styleClass="admin-root"
      spacing="0"
      fillWidth="true">

    <!-- Top Header -->
    <HBox styleClass="admin-header" alignment="CENTER_LEFT" spacing="0" VBox.vgrow="NEVER">
        <padding>
            <Insets top="16" right="24" bottom="16" left="24"/>
        </padding>

        <!-- Logo Section -->
        <HBox alignment="CENTER_LEFT" spacing="12" HBox.hgrow="ALWAYS">
            <StackPane styleClass="logo-container" minWidth="40" minHeight="40">
                <Circle radius="20" styleClass="logo-bg"/>
                <Label text="🏛" styleClass="logo-icon"/>
            </StackPane>
            <VBox spacing="2">
                <Label text="Panel de Administración" styleClass="header-title"/>
                <Label text="Municipalidad de Pérez Zeledón" styleClass="header-subtitle"/>
            </VBox>
        </HBox>

        <!-- Spacer -->
        <Region HBox.hgrow="ALWAYS"/>

        <!-- Actions Section -->
        <HBox alignment="CENTER_RIGHT" spacing="12" HBox.hgrow="NEVER">
            <!-- Notifications Button -->
            <StackPane styleClass="notification-button">
                <Button styleClass="icon-button" fx:id="notificationsButton">
                    <graphic>
                        <Label text="🔔" styleClass="icon"/>
                    </graphic>
                </Button>
                <Label text="3" styleClass="notification-badge"/>
            </StackPane>

            <!-- User Menu -->
            <HBox styleClass="user-menu" spacing="8" alignment="CENTER">
                <Circle radius="16" styleClass="user-avatar"/>
                <VBox spacing="0">
                    <Label text="Carlos Rodríguez" styleClass="user-name"/>
                    <Label text="Administrador" styleClass="user-role"/>
                </VBox>
            </HBox>
        </HBox>
    </HBox>

    <!-- Main Content Area -->
    <HBox spacing="0" VBox.vgrow="ALWAYS" fillHeight="true">

        <!-- Left Sidebar -->
        <VBox styleClass="sidebar" spacing="8" prefWidth="280" minWidth="260" HBox.hgrow="NEVER">
            <padding>
                <Insets top="24" right="20" bottom="24" left="20"/>
            </padding>

            <Label text="NAVEGACIÓN" styleClass="sidebar-section-title"/>

            <Button fx:id="navDashboardButton"
                    text="Inicio"
                    styleClass="nav-item, nav-item-active"
                    maxWidth="Infinity"
                    alignment="BASELINE_LEFT"
                    onAction="#handleNavigateDashboard">
                <graphic>
                    <Label text="🏠" styleClass="nav-icon"/>
                </graphic>
            </Button>

            <Button fx:id="navSpacesButton"
                    text="Gestión de espacios"
                    styleClass="nav-item"
                    maxWidth="Infinity"
                    alignment="BASELINE_LEFT"
                    onAction="#handleNavigateSpaces">
                <graphic>
                    <Label text="🏢" styleClass="nav-icon"/>
                </graphic>
            </Button>

            <Button fx:id="navUsersButton"
                    text="Gestión de usuarios"
                    styleClass="nav-item"
                    maxWidth="Infinity"
                    alignment="BASELINE_LEFT"
                    onAction="#handleNavigateUsers">
                <graphic>
                    <Label text="👥" styleClass="nav-icon"/>
                </graphic>
            </Button>

            <Button fx:id="navReservationsButton"
                    text="Control de reservas"
                    styleClass="nav-item"
                    maxWidth="Infinity"
                    alignment="BASELINE_LEFT"
                    onAction="#handleNavigateReservations">
                <graphic>
                    <Label text="📅" styleClass="nav-icon"/>
                </graphic>
            </Button>

            <Button fx:id="navReportsButton"
                    text="Reportes globales"
                    styleClass="nav-item"
                    maxWidth="Infinity"
                    alignment="BASELINE_LEFT"
                    onAction="#handleNavigateReports">
                <graphic>
                    <Label text="📊" styleClass="nav-icon"/>
                </graphic>
            </Button>

            <Button fx:id="navClimateButton"
                    text="Monitoreo climático"
                    styleClass="nav-item"
                    maxWidth="Infinity"
                    alignment="BASELINE_LEFT"
                    onAction="#handleNavigateClimate">
                <graphic>
                    <Label text="☁️" styleClass="nav-icon"/>
                </graphic>
            </Button>

            <Button fx:id="navSettingsButton"
                    text="Configuración"
                    styleClass="nav-item"
                    maxWidth="Infinity"
                    alignment="BASELINE_LEFT"
                    onAction="#handleNavigateSettings">
                <graphic>
                    <Label text="⚙️" styleClass="nav-icon"/>
                </graphic>
            </Button>
        </VBox>

        <!-- Main Content Scroll -->
        <ScrollPane fx:id="contentScroll"
                    fitToWidth="true"
                    fitToHeight="true"
                    styleClass="content-scroll"
                    HBox.hgrow="ALWAYS">
            <content>
                <StackPane alignment="TOP_CENTER">
                    <Label text="Cargando panel..." styleClass="page-subtitle"/>
                </StackPane>
            </content>
        </ScrollPane>
    </HBox>
</VBox>
